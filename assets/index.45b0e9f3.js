import{j as d,r as i,R as f,a as p}from"./vendor.bb42f463.js";const g=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};g();const r=d.exports.jsx,u=d.exports.jsxs,y=d.exports.Fragment,h=()=>{const[m,n]=i.exports.useState("Initialized"),[l,c]=i.exports.useState(0),e=f.createRef(),t=i.exports.useCallback(()=>{var s,o;(o=(s=e.current)==null?void 0:s.contentWindow)==null||o.postMessage({type:"message",body:{message:"Hello Child Window!"}})},[e]),a=i.exports.useCallback(()=>{var s,o;(o=(s=e.current)==null?void 0:s.contentWindow)==null||o.postMessage({type:"message",body:{message:"Goodbye Child Window!"}})},[e]);return i.exports.useEffect(()=>{window.addEventListener("message",s=>{var o;s.data.type==="message"&&(n(s.data.body.message),(o=s.source)==null||o.postMessage({type:"status",status:"SUCCESS"}))}),window.addEventListener("message",s=>{s.data.type==="status"&&c(o=>o+1)})},[]),u("div",{className:"iframe-sample-container",children:[r("h2",{className:"iframe-message",children:m}),u("h4",{children:["Count: ",l]}),u("div",{className:"button-container",children:[r("button",{className:"iframe-post-message-button",type:"button",onClick:t,children:"postHello"}),r("button",{className:"iframe-post-message-button",type:"button",onClick:a,children:"postGoodbye"})]}),r("div",{className:"iframe-container",children:r("iframe",{title:"myself-iframe",className:"myself-iframe",ref:e,src:"https://yukiyokotani.github.io/multi-window-sample/"})})]})};function b(){return r(y,{children:r(h,{})})}p.render(r(f.StrictMode,{children:r(b,{})}),document.getElementById("root"));
